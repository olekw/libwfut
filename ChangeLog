2007-02-09  Simon Goodall  <libwfut@simongoodall.co.uk>

	* configure.ac: Fix version number, remove sigc 1.x check.

	* libwfut/WFUT.cpp: Return error when failing parse local list.

	* tools/wfut.cpp: Implement the use of a tmpfile to record files as they	  are updated.

2007-02-09  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/IO.cpp: Fix some spelling errors.

	* libwfut/WFUT.cpp: Change some of the textual output.

	* tools/wfut.cpp: Added command line args to specify the
	  system/reference location and a prefix/destination location. Added
	  lots of comments. Actually save the correct file list (local list and
	  successful updates) and make a note of errors.

2007-02-09  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/ChannelFileList.h, libwfut/ChannelIO.h,
	  libwfut/ChannelParser.cpp, libwfut/ChannelWriter.cpp,
	  libwfut/Encoder.cpp, libwfut/FileIO.h, libwfut/FileParser.cpp,
	  libwfut/FileWriter.cpp, libwfut/IO.h, libwfut/Makefile.am,
	  libwfut/WFUT.cpp, libwfut/crc32.h, libwfut/header.h, libwfut/types.h:
	  Updated for make distcheck and copyright years.

2007-02-09  Simon Goodall  <libwfut@simongoodall.co.uk>

	* configure.ac, Makefile.am, tools/Makefile.am: Added a tools subdir.

	* tools/wfut.cpp: Added a basic command line updater program.

	* libwfut/IO.cpp, libwfut/IO.h: Download files into a tmp file first,
	  then copy to target location only on a successfull download. Fix
	  createParentDirs so that it will recursively create the required dirs.
	  Changed the download stucture to contain a path prefix and the
	  filename relative to the path so the filename can be used as a key
	  when passed in a signal.

	* libwfut/WFUT.cpp: Updated for new queueFile syntax.

2007-02-09  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/WFUT.cpp, libwfut/WFUT.h: Change functions to return error
	  codes and take Channel Lists as by ref arguments instead. Create a
	  DownloadComplete and DownloadFailed signal for client apps to hook
	  into.

2007-02-09  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/Makefile.am, libwfut/Encoder.cpp, libwfut/Encoder.h: Added
	  some function to encode and decode strings so they are suitable for
	  storage in XML files.

	* libwfut/FileParser.cpp, libwfut/FileWriter.cpp: Use the encode and
	  decode functions.

2007-02-07  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/Makefile.am: Add crc32 files to build.

	* libwfut/WFUT.cpp, libwfut/WFUT.h: Added function to calculate the 
	  list of files that need updating.

	* libwfut/crc32.cpp, libwfut/crc32.h: Created header, fixed compiler
	  errors.

2006-07-12  Simon Goodall  <libwfut@simongoodall.co.uk>

	* tinyxml/*: Add tinyxml to source. Make it part of the WFUT namespace
	  to avoid potential namespace conflicts with other tinyxml versions.

	* libwfut/ChannelFileList.h: Wrapper class around FileList to also
	  contain channel name.

	* libwfut/types.h: Create a FileMap type, mapping filename to a 
	  FileObject.

	* configure.ac, Makefile.am: Added extra dirs.

	* libwfut/FileIO.h, libwfut/FileParser.cpp, libwfut/FileWriter.cpp,
	  libwfut/WFUT.h, libwfut/WFUT.cpp, tests/test3.cpp: Update for
	  ChannelFileList and read/write dir attribute.

	* libwfut/crc32.cpp: Use zlib uLong type.

2006-02-12  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/WFUT.cpp, libwfut/WFUT.h: Rename class to WFUTClient to avoid
	  clashing with namespace. Change the updateChannel method to take a url
	  and path prefix to add to the filenames and source URLS. Create some
	  temporary callbacks to the IO::DownloadComplete and IO::DownloadFailed
	  signals. Download channel and file lists to a location in /tmp (needs
	  to be made platform independant) before parsing. Implement poll
	  method. It is now possible to download a list of channels, a filelist
	  for a given channel and download all the files into a given location.

2006-02-12  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/ChannelParser.cpp: Name is an attribute, not an element.

	* libwfut/FileParser.cpp: CRC32 is a unsigned long. Fix some parsing
	  problems.

	* libwfut/types.h: Add WFUT namespace.

	* libwfut/IO.cpp, libwfut/IO.h: Add function to create dirs if they 
	  don't exist. Sets dir perms to 0700. DownloadFailed signal now takes
	  a third string containing an error message. Added downloadFile to
	  download a single file. This function blocks until the download
	  completes or fails.

2006-02-12  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/types.h, libwfut/IO.h, libwfut/IO.cpp, libwfut/WFUT.cpp: Add
	  checks for CRC32 value calculation. The IO::queueFile now takes the 
	  expected CRC32 value of the downloaded file. Set to 0 to ignore the 
	  calculated CRC32 value.

2006-02-12  Simon Goodall  <libwfut@simongoodall.co.uk>

	* libwfut/IO.cpp: Fix poll function so download failures are reported 
	  as such. Fix queueFile to set DataStruct as private data for the 
	  handle. The low-level file download code is now fairly complete,
	  however some work is required for better error handling.

2005-11-27  Simon Goodall  <libwfut@simongoodall.co.uk>

	* Initial ChangeLog entry.
